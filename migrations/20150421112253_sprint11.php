<?php

use Phinx\Migration\AbstractMigration;

// Load all the admin APIs, for convenience
require_once 'wordpress-api.php';
//--

class Sprint11 extends AbstractMigration
{
    /**
     * Change Method.
     *
     * More information on this method is available here:
     * http://docs.phinx.org/en/latest/migrations.html#the-change-method
     *
     * Uncomment this method if you would like to use it.
     *
    public function change()
    {
    }
    */
    
    /**
     * Migrate Up.
     */
    public function up()
    {
        if ( $plugin = ( new \WP_CLI\Fetchers\Plugin )->get( 'alphasss-login' ) ) {
            activate_plugin( $plugin->file, '' );
        }

        if ( $plugin = ( new \WP_CLI\Fetchers\Plugin )->get( 'alphasss-smtp' ) ) {
            activate_plugin( $plugin->file, '' );
        }

        if ( $plugin = ( new \WP_CLI\Fetchers\Plugin )->get( 'dm-confirm-email' ) ) {
            activate_plugin( $plugin->file, '' );
        }

        if ( $plugin = ( new \WP_CLI\Fetchers\Plugin )->get( 'wprtc-real-time-video-for-wp' ) ) {
            deactivate_plugins( $plugin->file, '' );
        }

        if ( $plugin = ( new \WP_CLI\Fetchers\Plugin )->get( 'alphasss-donation' ) ) {
            activate_plugin( $plugin->file, '' );
        }

        // Enable group creation for members
        $this->execute( 'UPDATE `wp_options` SET `option_value` = 0 WHERE `option_name`="bp_restrict_group_creation"' );
        
        // Add member role to administrator
        $user = ( new \WP_CLI\Fetchers\User )->get_check( 'Founder_Counselor' );

        $user->remove_role( 'pre_member' );
        $user->add_role( 'member' );
        //--

        // Change owner of test group
        $this->execute( 'UPDATE `wp_bp_groups` SET `creator_id` = 80 WHERE `id`=1' );
        $this->execute( 'UPDATE `wp_bp_groups_members` SET `user_id` = 80 WHERE `id`=1' );
        //--

        // Delete 1-on-1 Video Chat
        $this->execute( 'DELETE FROM `wp_posts` WHERE `ID`=43' );

        // Add nadya in to group "Sex Lovers United"
        $this->execute( 'INSERT INTO `wp_bp_groups_members` VALUES(NULL,1,79,0,0,0,"WebGuy","2014-11-03 20:27:25","",1,0,0)' );

         // Add exists hashed admin, required for testing
        $this->execute( sprintf( 'INSERT INTO `wp_usermeta` VALUES (NULL, 1,"hashed_email","%s")', hash('sha512', 'admin@alphasss.com') ) );
        
        // Update gravity form, add email
        global $wpdb;
        $form_meta = json_decode('{"title":"The Usual First Step","description":"","labelPlacement":"top_label","descriptionPlacement":"below","button":{"type":"text","text":"Finish","imageUrl":"","conditionalLogic":null},"fields":[{"type":"html","adminLabel":"","adminOnly":"","allowsPrepopulate":false,"defaultValue":"","description":"","content":"<h1 class=\"entry-title\">%%RegisterPageTitle%%<\/h1>\n\n","cssClass":"","errorMessage":"","id":1,"inputName":"","isRequired":false,"label":"Header","noDuplicates":"","size":"medium","postCustomFieldName":"","displayAllCategories":false,"displayCaption":"","displayDescription":"","displayTitle":"","inputType":"","rangeMin":"","rangeMax":"","calendarIconType":"","calendarIconUrl":"","dateType":"","dateFormat":"","phoneFormat":"","addressType":"","defaultCountry":"","defaultProvince":"","defaultState":"","hideAddress2":"","hideCountry":"","hideState":"","inputs":null,"nameFormat":"","allowedExtensions":"","captchaType":"","pageNumber":1,"captchaTheme":"","simpleCaptchaSize":"","simpleCaptchaFontColor":"","simpleCaptchaBackgroundColor":"","failed_validation":"","productField":"","enablePasswordInput":"","maxLength":"","enablePrice":"","basePrice":"","displayOnly":true,"multipleFiles":false,"maxFiles":"","calculationFormula":"","calculationRounding":"","enableCalculation":"","disableQuantity":false,"inputMask":false,"inputMaskValue":"","formId":4,"descriptionPlacement":"below","choices":"","conditionalLogic":"","labelPlacement":"","subLabelPlacement":"","placeholder":""},{"type":"html","adminLabel":"","adminOnly":"","allowsPrepopulate":false,"defaultValue":"","description":"","content":"<p class=\"registration-form-text\">%%RegisterPageTextUnderTitle%%<\/p>\n\n","cssClass":"","errorMessage":"","id":2,"inputName":"","isRequired":false,"label":"Header","noDuplicates":"","size":"medium","postCustomFieldName":"","displayAllCategories":false,"displayCaption":"","displayDescription":"","displayTitle":"","inputType":"","rangeMin":"","rangeMax":"","calendarIconType":"","calendarIconUrl":"","dateType":"","dateFormat":"","phoneFormat":"","addressType":"","defaultCountry":"","defaultProvince":"","defaultState":"","hideAddress2":"","hideCountry":"","hideState":"","inputs":null,"nameFormat":"","allowedExtensions":"","captchaType":"","pageNumber":1,"captchaTheme":"","simpleCaptchaSize":"","simpleCaptchaFontColor":"","simpleCaptchaBackgroundColor":"","failed_validation":"","productField":"","enablePasswordInput":"","maxLength":"","enablePrice":"","basePrice":"","displayOnly":true,"multipleFiles":false,"maxFiles":"","calculationFormula":"","calculationRounding":"","enableCalculation":"","disableQuantity":false,"inputMask":false,"inputMaskValue":"","formId":4,"descriptionPlacement":"below","choices":"","conditionalLogic":"","labelPlacement":"","subLabelPlacement":"","placeholder":""},{"type":"text","adminLabel":"","adminOnly":"","allowsPrepopulate":false,"defaultValue":"","description":"<p class=\"registration-form-text\">%%RegisterNicknameDescription%%<\/p>","content":"","cssClass":"username","errorMessage":"","id":3,"inputName":"","isRequired":true,"label":"%%RegisterNicknameLabel%%","noDuplicates":true,"size":"medium","postCustomFieldName":"","displayAllCategories":false,"displayCaption":"","displayDescription":"","displayTitle":"","inputType":"","rangeMin":"","rangeMax":"","calendarIconType":"","calendarIconUrl":"","dateType":"","dateFormat":"","phoneFormat":"","addressType":"","defaultCountry":"","defaultProvince":"","defaultState":"","hideAddress2":"","hideCountry":"","hideState":"","inputs":null,"nameFormat":"","allowedExtensions":"","captchaType":"","pageNumber":1,"captchaTheme":"","simpleCaptchaSize":"","simpleCaptchaFontColor":"","simpleCaptchaBackgroundColor":"","failed_validation":"","productField":"","enablePasswordInput":"","maxLength":"","enablePrice":"","basePrice":"","multipleFiles":false,"maxFiles":"","calculationFormula":"","calculationRounding":"","enableCalculation":"","disableQuantity":false,"inputMask":false,"inputMaskValue":"","formId":4,"descriptionPlacement":"below","conditionalLogic":"","displayOnly":"","choices":"","labelPlacement":"","subLabelPlacement":"","placeholder":""},{"type":"text","adminLabel":"","adminOnly":"","allowsPrepopulate":false,"defaultValue":"","description":"<p class=\"registration-form-text\">%%RegisterEmailDescription%%<\/p>","content":"","cssClass":"email","errorMessage":"","id":22,"inputName":"","isRequired":true,"label":"%%RegisterEmailLabel%%","noDuplicates":true,"size":"medium","postCustomFieldName":"","displayAllCategories":false,"displayCaption":"","displayDescription":"","displayTitle":"","inputType":"","rangeMin":"","rangeMax":"","calendarIconType":"","calendarIconUrl":"","dateType":"","dateFormat":"","phoneFormat":"","addressType":"","defaultCountry":"","defaultProvince":"","defaultState":"","hideAddress2":"","hideCountry":"","hideState":"","inputs":null,"nameFormat":"","allowedExtensions":"","captchaType":"","pageNumber":1,"captchaTheme":"","simpleCaptchaSize":"","simpleCaptchaFontColor":"","simpleCaptchaBackgroundColor":"","failed_validation":"","productField":"","enablePasswordInput":"","maxLength":"","enablePrice":"","basePrice":"","multipleFiles":false,"maxFiles":"","calculationFormula":"","calculationRounding":"","enableCalculation":"","disableQuantity":false,"inputMask":false,"inputMaskValue":"","formId":4,"descriptionPlacement":"below","conditionalLogic":"","displayOnly":"","choices":"","labelPlacement":"","subLabelPlacement":"","placeholder":""},{"type":"password","adminLabel":"","adminOnly":"","allowsPrepopulate":false,"defaultValue":"","description":"","content":"","cssClass":"","errorMessage":"","id":4,"inputName":"","isRequired":true,"label":"%%RegisterPasswordLabel%%","noDuplicates":"","size":"medium","postCustomFieldName":"","displayAllCategories":false,"displayCaption":"","displayDescription":"","displayTitle":"","inputType":"","rangeMin":"","rangeMax":"","calendarIconType":"","calendarIconUrl":"","dateType":"","dateFormat":"","phoneFormat":"","addressType":"","defaultCountry":"","defaultProvince":"","defaultState":"","hideAddress2":"","hideCountry":"","hideState":"","inputs":[{"id":4,"label":"Enter Password","name":"","placeholder":""},{"id":"4.2","label":"Confirm Password","name":""}],"nameFormat":"","allowedExtensions":"","captchaType":"","pageNumber":1,"captchaTheme":"","simpleCaptchaSize":"","simpleCaptchaFontColor":"","simpleCaptchaBackgroundColor":"","failed_validation":"","productField":"","enablePasswordInput":"","maxLength":"","enablePrice":"","basePrice":"","displayOnly":true,"formId":4,"descriptionPlacement":"below","multipleFiles":false,"maxFiles":"","calculationFormula":"","calculationRounding":"","enableCalculation":"","disableQuantity":false,"inputMask":false,"inputMaskValue":"","passwordStrengthEnabled":true,"conditionalLogic":"","choices":"","labelPlacement":"","subLabelPlacement":"","placeholder":""},{"type":"html","adminLabel":"","adminOnly":"","allowsPrepopulate":false,"defaultValue":"","description":"","content":"<p class=\"registration-form-text\">%%RegisterPasswordDescription%%<\/p>","cssClass":"","errorMessage":"","id":7,"inputName":"","isRequired":false,"label":"","noDuplicates":"","size":"medium","postCustomFieldName":"","displayAllCategories":false,"displayCaption":"","displayDescription":"","displayTitle":"","inputType":"","rangeMin":"","rangeMax":"","calendarIconType":"","calendarIconUrl":"","dateType":"","dateFormat":"","phoneFormat":"","addressType":"","defaultCountry":"","defaultProvince":"","defaultState":"","hideAddress2":"","hideCountry":"","hideState":"","inputs":null,"nameFormat":"","allowedExtensions":"","captchaType":"","pageNumber":1,"captchaTheme":"","simpleCaptchaSize":"","simpleCaptchaFontColor":"","simpleCaptchaBackgroundColor":"","failed_validation":"","productField":"","enablePasswordInput":"","maxLength":"","enablePrice":"","basePrice":"","displayOnly":true,"multipleFiles":false,"maxFiles":"","calculationFormula":"","calculationRounding":"","enableCalculation":"","disableQuantity":false,"inputMask":false,"inputMaskValue":"","formId":4,"descriptionPlacement":"below","choices":"","conditionalLogic":"","labelPlacement":"","subLabelPlacement":"","placeholder":""},{"type":"checkbox","adminLabel":"","adminOnly":"","allowsPrepopulate":false,"defaultValue":"","description":"","content":"","cssClass":"","errorMessage":"","id":8,"inputName":"","isRequired":true,"label":"","noDuplicates":"","size":"medium","postCustomFieldName":"","displayAllCategories":false,"displayCaption":"","displayDescription":"","displayTitle":"","inputType":"","rangeMin":"","rangeMax":"","calendarIconType":"","calendarIconUrl":"","dateType":"","dateFormat":"","phoneFormat":"","addressType":"","defaultCountry":"","defaultProvince":"","defaultState":"","hideAddress2":"","hideCountry":"","hideState":"","inputs":[{"id":"8.1","label":"<span class=\"gfield_required\">*<\/span> %%RegisterAgeConfirmation%%","name":""}],"nameFormat":"","allowedExtensions":"","captchaType":"","pageNumber":1,"captchaTheme":"","simpleCaptchaSize":"","simpleCaptchaFontColor":"","simpleCaptchaBackgroundColor":"","failed_validation":"","productField":"","enablePasswordInput":"","maxLength":"","enablePrice":"","basePrice":"","choices":[{"text":"<span class=\"gfield_required\">*<\/span> %%RegisterAgeConfirmation%%","value":"Yes","isSelected":false,"price":""}],"multipleFiles":false,"maxFiles":"","calculationFormula":"","calculationRounding":"","enableCalculation":"","disableQuantity":false,"inputMask":false,"inputMaskValue":"","enableChoiceValue":true,"formId":4,"descriptionPlacement":"below","displayOnly":"","conditionalLogic":"","labelPlacement":"","subLabelPlacement":"","placeholder":""},{"type":"page","adminLabel":"","adminOnly":"","allowsPrepopulate":"","defaultValue":"","description":"","content":"","cssClass":"","errorMessage":"","id":9,"inputName":"","isRequired":false,"label":"","noDuplicates":"","size":"medium","postCustomFieldName":"","displayAllCategories":"","displayCaption":"","displayDescription":"","displayTitle":"","inputType":"","rangeMin":"","rangeMax":"","calendarIconType":"","calendarIconUrl":"","dateType":"","dateFormat":"","phoneFormat":"","addressType":"","defaultCountry":"","defaultProvince":"","defaultState":"","hideAddress2":"","hideCountry":"","hideState":"","inputs":null,"nameFormat":"","allowedExtensions":"","captchaType":"","pageNumber":2,"captchaTheme":"","simpleCaptchaSize":"","simpleCaptchaFontColor":"","simpleCaptchaBackgroundColor":"","failed_validation":"","productField":"","enablePasswordInput":"","maxLength":"","enablePrice":"","basePrice":"","displayOnly":true,"nextButton":{"type":"text","text":"Next","imageUrl":""},"previousButton":{"type":"text","text":"Previous","imageUrl":""},"formId":4,"descriptionPlacement":"below","choices":"","conditionalLogic":""},{"type":"html","adminLabel":"","adminOnly":"","allowsPrepopulate":false,"defaultValue":"","description":"","content":"<h1 class=\"entry-title\">%%RegisterConfirmationTitle%%<\/h1>","cssClass":"","errorMessage":"","id":12,"inputName":"","isRequired":false,"label":"Header","noDuplicates":"","size":"medium","postCustomFieldName":"","displayAllCategories":false,"displayCaption":"","displayDescription":"","displayTitle":"","inputType":"","rangeMin":"","rangeMax":"","calendarIconType":"","calendarIconUrl":"","dateType":"","dateFormat":"","phoneFormat":"","addressType":"","defaultCountry":"","defaultProvince":"","defaultState":"","hideAddress2":"","hideCountry":"","hideState":"","inputs":null,"nameFormat":"","allowedExtensions":"","captchaType":"","pageNumber":2,"captchaTheme":"","simpleCaptchaSize":"","simpleCaptchaFontColor":"","simpleCaptchaBackgroundColor":"","failed_validation":"","productField":"","enablePasswordInput":"","maxLength":"","enablePrice":"","basePrice":"","displayOnly":true,"multipleFiles":false,"maxFiles":"","calculationFormula":"","calculationRounding":"","enableCalculation":"","disableQuantity":false,"inputMask":false,"inputMaskValue":"","formId":4,"descriptionPlacement":"below","choices":"","conditionalLogic":"","labelPlacement":"","subLabelPlacement":"","placeholder":""},{"type":"html","adminLabel":"","adminOnly":"","allowsPrepopulate":false,"defaultValue":"","description":"","content":"<p class=\"registration-form-text\">%%RegisterConfirmationTextUnderTitle%%<\/p>","cssClass":"","errorMessage":"","id":13,"inputName":"","isRequired":false,"label":"Header","noDuplicates":"","size":"medium","postCustomFieldName":"","displayAllCategories":false,"displayCaption":"","displayDescription":"","displayTitle":"","inputType":"","rangeMin":"","rangeMax":"","calendarIconType":"","calendarIconUrl":"","dateType":"","dateFormat":"","phoneFormat":"","addressType":"","defaultCountry":"","defaultProvince":"","defaultState":"","hideAddress2":"","hideCountry":"","hideState":"","inputs":null,"nameFormat":"","allowedExtensions":"","captchaType":"","pageNumber":2,"captchaTheme":"","simpleCaptchaSize":"","simpleCaptchaFontColor":"","simpleCaptchaBackgroundColor":"","failed_validation":"","productField":"","enablePasswordInput":"","maxLength":"","enablePrice":"","basePrice":"","displayOnly":true,"multipleFiles":false,"maxFiles":"","calculationFormula":"","calculationRounding":"","enableCalculation":"","disableQuantity":false,"inputMask":false,"inputMaskValue":"","formId":4,"descriptionPlacement":"below","choices":"","conditionalLogic":"","labelPlacement":"","subLabelPlacement":"","placeholder":""},{"type":"html","adminLabel":"","adminOnly":"","allowsPrepopulate":false,"defaultValue":"","description":"","content":"<p><strong>%%RegisterConfirmationNickNameIs%%<\/strong><br \/><br \/><span class=\"red-data\">%%nickname%%<\/span><\/p>\n\n<p>%%RegisterConfirmationTextUnderNickname%%<\/p>\n\n<p><strong>%%RegisterConfirmationPasswordIs%%<\/strong><br \/><br \/><span class=\"red-data\">%%password%%<\/span><\/p>\n\n<p>%%RegisterConfirmationTextUnderPassword%%<\/p>","cssClass":"","errorMessage":"","id":17,"inputName":"","isRequired":false,"label":"HTML Block","noDuplicates":"","size":"medium","postCustomFieldName":"","displayAllCategories":false,"displayCaption":"","displayDescription":"","displayTitle":"","inputType":"","rangeMin":"","rangeMax":"","calendarIconType":"","calendarIconUrl":"","dateType":"","dateFormat":"","phoneFormat":"","addressType":"","defaultCountry":"","defaultProvince":"","defaultState":"","hideAddress2":"","hideCountry":"","hideState":"","inputs":null,"nameFormat":"","allowedExtensions":"","captchaType":"","pageNumber":2,"captchaTheme":"","simpleCaptchaSize":"","simpleCaptchaFontColor":"","simpleCaptchaBackgroundColor":"","failed_validation":"","productField":"","enablePasswordInput":"","maxLength":"","enablePrice":"","basePrice":"","displayOnly":true,"multipleFiles":false,"maxFiles":"","calculationFormula":"","calculationRounding":"","enableCalculation":"","disableQuantity":false,"inputMask":false,"inputMaskValue":"","formId":4,"descriptionPlacement":"below","choices":"","conditionalLogic":"","labelPlacement":"","subLabelPlacement":"","placeholder":""},{"type":"checkbox","adminLabel":"","adminOnly":"","allowsPrepopulate":false,"defaultValue":"","description":"","content":"","cssClass":"","errorMessage":"","id":15,"inputName":"","isRequired":true,"label":"","noDuplicates":"","size":"medium","postCustomFieldName":"","displayAllCategories":false,"displayCaption":"","displayDescription":"","displayTitle":"","inputType":"","rangeMin":"","rangeMax":"","calendarIconType":"","calendarIconUrl":"","dateType":"","dateFormat":"","phoneFormat":"","addressType":"","defaultCountry":"","defaultProvince":"","defaultState":"","hideAddress2":"","hideCountry":"","hideState":"","inputs":[{"id":"15.1","label":"<span class=\"gfield_required\">*<\/span> %%RegisterDataConfirmation%%","name":""}],"nameFormat":"","allowedExtensions":"","captchaType":"","pageNumber":2,"captchaTheme":"","simpleCaptchaSize":"","simpleCaptchaFontColor":"","simpleCaptchaBackgroundColor":"","failed_validation":"","productField":"","enablePasswordInput":"","maxLength":"","enablePrice":"","basePrice":"","choices":[{"text":"<span class=\"gfield_required\">*<\/span> %%RegisterDataConfirmation%%","value":"Yes","isSelected":false,"price":""}],"multipleFiles":false,"maxFiles":"","calculationFormula":"","calculationRounding":"","enableCalculation":"","disableQuantity":false,"inputMask":false,"inputMaskValue":"","enableChoiceValue":true,"formId":4,"descriptionPlacement":"below","displayOnly":"","conditionalLogic":"","labelPlacement":"","subLabelPlacement":"","placeholder":""},{"type":"page","adminLabel":"","adminOnly":"","allowsPrepopulate":"","defaultValue":"","description":"","content":"","cssClass":"","errorMessage":"","id":11,"inputName":"","isRequired":false,"label":"","noDuplicates":"","size":"medium","postCustomFieldName":"","displayAllCategories":"","displayCaption":"","displayDescription":"","displayTitle":"","inputType":"","rangeMin":"","rangeMax":"","calendarIconType":"","calendarIconUrl":"","dateType":"","dateFormat":"","phoneFormat":"","addressType":"","defaultCountry":"","defaultProvince":"","defaultState":"","hideAddress2":"","hideCountry":"","hideState":"","inputs":null,"nameFormat":"","allowedExtensions":"","captchaType":"","pageNumber":3,"captchaTheme":"","simpleCaptchaSize":"","simpleCaptchaFontColor":"","simpleCaptchaBackgroundColor":"","failed_validation":"","productField":"","enablePasswordInput":"","maxLength":"","enablePrice":"","basePrice":"","displayOnly":true,"nextButton":{"type":"text","text":"Next","imageUrl":""},"previousButton":{"type":"text","text":"Previous","imageUrl":""},"formId":4,"descriptionPlacement":"below","choices":"","conditionalLogic":""},{"type":"html","adminLabel":"","adminOnly":"","allowsPrepopulate":false,"defaultValue":"","description":"","content":"<h1 class=\"entry-title\">%%RegisterInvintationTitle%%<\/h1>","cssClass":"","errorMessage":"","id":18,"inputName":"","isRequired":false,"label":"HTML Block","noDuplicates":"","size":"medium","postCustomFieldName":"","displayAllCategories":false,"displayCaption":"","displayDescription":"","displayTitle":"","inputType":"","rangeMin":"","rangeMax":"","calendarIconType":"","calendarIconUrl":"","dateType":"","dateFormat":"","phoneFormat":"","addressType":"","defaultCountry":"","defaultProvince":"","defaultState":"","hideAddress2":"","hideCountry":"","hideState":"","inputs":null,"nameFormat":"","allowedExtensions":"","captchaType":"","pageNumber":3,"captchaTheme":"","simpleCaptchaSize":"","simpleCaptchaFontColor":"","simpleCaptchaBackgroundColor":"","failed_validation":"","productField":"","enablePasswordInput":"","maxLength":"","enablePrice":"","basePrice":"","displayOnly":true,"multipleFiles":false,"maxFiles":"","calculationFormula":"","calculationRounding":"","enableCalculation":"","disableQuantity":false,"inputMask":false,"inputMaskValue":"","formId":4,"descriptionPlacement":"below","choices":"","conditionalLogic":"","labelPlacement":"","subLabelPlacement":"","placeholder":""},{"type":"html","adminLabel":"","adminOnly":"","allowsPrepopulate":false,"defaultValue":"","description":"","content":"","cssClass":"","errorMessage":"","id":19,"inputName":"","isRequired":false,"label":"HTML Block","noDuplicates":"","size":"medium","postCustomFieldName":"","displayAllCategories":false,"displayCaption":"","displayDescription":"","displayTitle":"","inputType":"","rangeMin":"","rangeMax":"","calendarIconType":"","calendarIconUrl":"","dateType":"","dateFormat":"","phoneFormat":"","addressType":"","defaultCountry":"","defaultProvince":"","defaultState":"","hideAddress2":"","hideCountry":"","hideState":"","inputs":null,"nameFormat":"","allowedExtensions":"","captchaType":"","pageNumber":3,"captchaTheme":"","simpleCaptchaSize":"","simpleCaptchaFontColor":"","simpleCaptchaBackgroundColor":"","failed_validation":"","productField":"","enablePasswordInput":"","maxLength":"","enablePrice":"","basePrice":"","displayOnly":true,"multipleFiles":false,"maxFiles":"","calculationFormula":"","calculationRounding":"","enableCalculation":"","disableQuantity":false,"inputMask":false,"inputMaskValue":"","formId":4,"descriptionPlacement":"below","choices":"","conditionalLogic":"","labelPlacement":"","subLabelPlacement":"","placeholder":""},{"type":"text","adminLabel":"","adminOnly":"","allowsPrepopulate":false,"defaultValue":"","description":"","content":"","cssClass":"","errorMessage":"Please enter a valid invitation code. If you don\'t have one, just ask for it.","id":20,"inputName":"","isRequired":true,"label":"Invitation Code:","noDuplicates":"","size":"medium","postCustomFieldName":"","displayAllCategories":false,"displayCaption":"","displayDescription":"","displayTitle":"","inputType":"","rangeMin":"","rangeMax":"","calendarIconType":"","calendarIconUrl":"","dateType":"","dateFormat":"","phoneFormat":"","addressType":"","defaultCountry":"","defaultProvince":"","defaultState":"","hideAddress2":"","hideCountry":"","hideState":"","inputs":null,"nameFormat":"","allowedExtensions":"","captchaType":"","pageNumber":3,"captchaTheme":"","simpleCaptchaSize":"","simpleCaptchaFontColor":"","simpleCaptchaBackgroundColor":"","failed_validation":"","productField":"","enablePasswordInput":"","maxLength":"","enablePrice":"","basePrice":"","multipleFiles":false,"maxFiles":"","calculationFormula":"","calculationRounding":"","enableCalculation":"","disableQuantity":false,"inputMask":false,"inputMaskValue":"","formId":4,"descriptionPlacement":"below","displayOnly":"","labelPlacement":"","subLabelPlacement":"","placeholder":"","choices":"","conditionalLogic":""},{"type":"html","adminLabel":"","adminOnly":"","allowsPrepopulate":false,"defaultValue":"","description":"","content":"<h1 class=\"entry-title\">%%RegisterInvintationTitleUnder%%<\/h1>\n\n<p>%%RegisterInvintationTextUnder%%<\/p>","cssClass":"","errorMessage":"","id":21,"inputName":"","isRequired":false,"label":"HTML Block","noDuplicates":"","size":"medium","postCustomFieldName":"","displayAllCategories":false,"displayCaption":"","displayDescription":"","displayTitle":"","inputType":"","rangeMin":"","rangeMax":"","calendarIconType":"","calendarIconUrl":"","dateType":"","dateFormat":"","phoneFormat":"","addressType":"","defaultCountry":"","defaultProvince":"","defaultState":"","hideAddress2":"","hideCountry":"","hideState":"","inputs":null,"nameFormat":"","allowedExtensions":"","captchaType":"","pageNumber":3,"captchaTheme":"","simpleCaptchaSize":"","simpleCaptchaFontColor":"","simpleCaptchaBackgroundColor":"","failed_validation":"","productField":"","enablePasswordInput":"","maxLength":"","enablePrice":"","basePrice":"","displayOnly":true,"multipleFiles":false,"maxFiles":"","calculationFormula":"","calculationRounding":"","enableCalculation":"","disableQuantity":false,"inputMask":false,"inputMaskValue":"","formId":4,"descriptionPlacement":"below","choices":"","conditionalLogic":"","labelPlacement":"","subLabelPlacement":"","placeholder":""}],"id":4,"useCurrentUserAsAuthor":true,"postContentTemplateEnabled":false,"postTitleTemplateEnabled":false,"postTitleTemplate":"","postContentTemplate":"","lastPageButton":{"type":"text","text":"","imageUrl":""},"pagination":{"type":"steps","pages":["First step","Second step","Third step"],"backgroundColor":null,"color":null,"display_progressbar_on_confirmation":null,"progressbar_completion_text":null},"firstPageCssClass":"","cssClass":"","enableHoneypot":"1","enableAnimation":"1","limitEntries":"","limitEntriesCount":"","limitEntriesPeriod":"","limitEntriesMessage":"","scheduleForm":"","scheduleStart":"","scheduleStartHour":"","scheduleStartMinute":"","scheduleStartAmpm":"","scheduleEnd":"","scheduleEndHour":"","scheduleEndMinute":"","scheduleEndAmpm":"","schedulePendingMessage":"","scheduleMessage":"","requireLogin":"","requireLoginMessage":"","subLabelPlacement":"below","save":{"enabled":"","button":{"type":"link","text":"Save and Continue Later"}}}', true);
        $form_meta = json_encode($form_meta);
        $wpdb->query( $wpdb->prepare( "UPDATE `wp_rg_form_meta` SET `display_meta`=%s WHERE `form_id`=4", $form_meta) );
        //--
    }

    /**
     * Migrate Down.
     */
    public function down()
    {
        if ( $plugin = ( new \WP_CLI\Fetchers\Plugin )->get( 'alphasss-login' ) ) {
            deactivate_plugins( $plugin->file );
        }

        if ( $plugin = ( new \WP_CLI\Fetchers\Plugin )->get( 'alphasss-smtp' ) ) {
            deactivate_plugins( $plugin->file, '' );
        }

        if ( $plugin = ( new \WP_CLI\Fetchers\Plugin )->get( 'dm-confirm-email' ) ) {
            deactivate_plugins( $plugin->file, '' );
        }

        if ( $plugin = ( new \WP_CLI\Fetchers\Plugin )->get( 'wprtc-real-time-video-for-wp' ) ) {
            activate_plugin( $plugin->file, '' );
        }

        if ( $plugin = ( new \WP_CLI\Fetchers\Plugin )->get( 'alphasss-donation' ) ) {
            deactivate_plugins( $plugin->file, '' );
        }

        // Disable group creation for members
        $this->execute( 'UPDATE `wp_options` SET `option_value` = 1 WHERE `option_name`="bp_restrict_group_creation"' );

        // Change owner of test group
        $this->execute( 'UPDATE `wp_bp_groups` SET `creator_id` = 1 WHERE `id`=1' );
        $this->execute( 'UPDATE `wp_bp_groups_members` SET `user_id` = 1 WHERE `id`=1' );
        //--

        // Add 1-on-1 Video Chat
        $this->execute( "INSERT INTO `wp_posts` VALUES (43,3,'2014-10-25 15:16:47','2014-10-25 22:16:47','','1-on-1 Video Chat!','','publish','open','open','','1-on-1-video-chat','','','2014-10-25 15:16:47','2014-10-25 22:16:47','',0,'http://www.alphasocialclub.com/?p=43',1,'nav_menu_item','',0)" );
    
        // Remove nadya in to group "Sex Lovers United"
        $this->execute( 'DELETE FROM  `wp_bp_groups_members` WHERE `user_id`=79 AND `group_id`=1 LIMIT 1' );

        //
        global $wpdb;
        $form_meta = json_decode('{"title":"The Usual First Step","description":"","labelPlacement":"top_label","descriptionPlacement":"below","button":{"type":"text","text":"Finish","imageUrl":"","conditionalLogic":null},"fields":[{"type":"html","adminLabel":"","adminOnly":"","allowsPrepopulate":false,"defaultValue":"","description":"","content":"<h1 class=\"entry-title\">%%RegisterPageTitle%%<\/h1>\n\n","cssClass":"","errorMessage":"","id":1,"inputName":"","isRequired":false,"label":"Header","noDuplicates":"","size":"medium","postCustomFieldName":"","displayAllCategories":false,"displayCaption":"","displayDescription":"","displayTitle":"","inputType":"","rangeMin":"","rangeMax":"","calendarIconType":"","calendarIconUrl":"","dateType":"","dateFormat":"","phoneFormat":"","addressType":"","defaultCountry":"","defaultProvince":"","defaultState":"","hideAddress2":"","hideCountry":"","hideState":"","inputs":null,"nameFormat":"","allowedExtensions":"","captchaType":"","pageNumber":1,"captchaTheme":"","simpleCaptchaSize":"","simpleCaptchaFontColor":"","simpleCaptchaBackgroundColor":"","failed_validation":"","productField":"","enablePasswordInput":"","maxLength":"","enablePrice":"","basePrice":"","displayOnly":true,"multipleFiles":false,"maxFiles":"","calculationFormula":"","calculationRounding":"","enableCalculation":"","disableQuantity":false,"inputMask":false,"inputMaskValue":"","formId":4,"descriptionPlacement":"below","choices":"","conditionalLogic":"","labelPlacement":"","subLabelPlacement":"","placeholder":""},{"type":"html","adminLabel":"","adminOnly":"","allowsPrepopulate":false,"defaultValue":"","description":"","content":"<p class=\"registration-form-text\">%%RegisterPageTextUnderTitle%%<\/p>\n\n","cssClass":"","errorMessage":"","id":2,"inputName":"","isRequired":false,"label":"Header","noDuplicates":"","size":"medium","postCustomFieldName":"","displayAllCategories":false,"displayCaption":"","displayDescription":"","displayTitle":"","inputType":"","rangeMin":"","rangeMax":"","calendarIconType":"","calendarIconUrl":"","dateType":"","dateFormat":"","phoneFormat":"","addressType":"","defaultCountry":"","defaultProvince":"","defaultState":"","hideAddress2":"","hideCountry":"","hideState":"","inputs":null,"nameFormat":"","allowedExtensions":"","captchaType":"","pageNumber":1,"captchaTheme":"","simpleCaptchaSize":"","simpleCaptchaFontColor":"","simpleCaptchaBackgroundColor":"","failed_validation":"","productField":"","enablePasswordInput":"","maxLength":"","enablePrice":"","basePrice":"","displayOnly":true,"multipleFiles":false,"maxFiles":"","calculationFormula":"","calculationRounding":"","enableCalculation":"","disableQuantity":false,"inputMask":false,"inputMaskValue":"","formId":4,"descriptionPlacement":"below","choices":"","conditionalLogic":"","labelPlacement":"","subLabelPlacement":"","placeholder":""},{"type":"text","adminLabel":"","adminOnly":"","allowsPrepopulate":false,"defaultValue":"","description":"<p class=\"registration-form-text\">%%RegisterNicknameDescription%%<\/p>","content":"","cssClass":"username","errorMessage":"","id":3,"inputName":"","isRequired":true,"label":"%%RegisterNicknameLabel%%","noDuplicates":true,"size":"medium","postCustomFieldName":"","displayAllCategories":false,"displayCaption":"","displayDescription":"","displayTitle":"","inputType":"","rangeMin":"","rangeMax":"","calendarIconType":"","calendarIconUrl":"","dateType":"","dateFormat":"","phoneFormat":"","addressType":"","defaultCountry":"","defaultProvince":"","defaultState":"","hideAddress2":"","hideCountry":"","hideState":"","inputs":null,"nameFormat":"","allowedExtensions":"","captchaType":"","pageNumber":1,"captchaTheme":"","simpleCaptchaSize":"","simpleCaptchaFontColor":"","simpleCaptchaBackgroundColor":"","failed_validation":"","productField":"","enablePasswordInput":"","maxLength":"","enablePrice":"","basePrice":"","multipleFiles":false,"maxFiles":"","calculationFormula":"","calculationRounding":"","enableCalculation":"","disableQuantity":false,"inputMask":false,"inputMaskValue":"","formId":4,"descriptionPlacement":"below","conditionalLogic":"","displayOnly":"","choices":"","labelPlacement":"","subLabelPlacement":"","placeholder":""},{"type":"password","adminLabel":"","adminOnly":"","allowsPrepopulate":false,"defaultValue":"","description":"","content":"","cssClass":"","errorMessage":"","id":4,"inputName":"","isRequired":true,"label":"%%RegisterPasswordLabel%%","noDuplicates":"","size":"medium","postCustomFieldName":"","displayAllCategories":false,"displayCaption":"","displayDescription":"","displayTitle":"","inputType":"","rangeMin":"","rangeMax":"","calendarIconType":"","calendarIconUrl":"","dateType":"","dateFormat":"","phoneFormat":"","addressType":"","defaultCountry":"","defaultProvince":"","defaultState":"","hideAddress2":"","hideCountry":"","hideState":"","inputs":[{"id":4,"label":"Enter Password","name":"","placeholder":""},{"id":"4.2","label":"Confirm Password","name":""}],"nameFormat":"","allowedExtensions":"","captchaType":"","pageNumber":1,"captchaTheme":"","simpleCaptchaSize":"","simpleCaptchaFontColor":"","simpleCaptchaBackgroundColor":"","failed_validation":"","productField":"","enablePasswordInput":"","maxLength":"","enablePrice":"","basePrice":"","displayOnly":true,"formId":4,"descriptionPlacement":"below","multipleFiles":false,"maxFiles":"","calculationFormula":"","calculationRounding":"","enableCalculation":"","disableQuantity":false,"inputMask":false,"inputMaskValue":"","passwordStrengthEnabled":true,"conditionalLogic":"","choices":"","labelPlacement":"","subLabelPlacement":"","placeholder":""},{"type":"html","adminLabel":"","adminOnly":"","allowsPrepopulate":false,"defaultValue":"","description":"","content":"<p class=\"registration-form-text\">%%RegisterPasswordDescription%%<\/p>","cssClass":"","errorMessage":"","id":7,"inputName":"","isRequired":false,"label":"","noDuplicates":"","size":"medium","postCustomFieldName":"","displayAllCategories":false,"displayCaption":"","displayDescription":"","displayTitle":"","inputType":"","rangeMin":"","rangeMax":"","calendarIconType":"","calendarIconUrl":"","dateType":"","dateFormat":"","phoneFormat":"","addressType":"","defaultCountry":"","defaultProvince":"","defaultState":"","hideAddress2":"","hideCountry":"","hideState":"","inputs":null,"nameFormat":"","allowedExtensions":"","captchaType":"","pageNumber":1,"captchaTheme":"","simpleCaptchaSize":"","simpleCaptchaFontColor":"","simpleCaptchaBackgroundColor":"","failed_validation":"","productField":"","enablePasswordInput":"","maxLength":"","enablePrice":"","basePrice":"","displayOnly":true,"multipleFiles":false,"maxFiles":"","calculationFormula":"","calculationRounding":"","enableCalculation":"","disableQuantity":false,"inputMask":false,"inputMaskValue":"","formId":4,"descriptionPlacement":"below","choices":"","conditionalLogic":"","labelPlacement":"","subLabelPlacement":"","placeholder":""},{"type":"checkbox","adminLabel":"","adminOnly":"","allowsPrepopulate":false,"defaultValue":"","description":"","content":"","cssClass":"","errorMessage":"","id":8,"inputName":"","isRequired":true,"label":"","noDuplicates":"","size":"medium","postCustomFieldName":"","displayAllCategories":false,"displayCaption":"","displayDescription":"","displayTitle":"","inputType":"","rangeMin":"","rangeMax":"","calendarIconType":"","calendarIconUrl":"","dateType":"","dateFormat":"","phoneFormat":"","addressType":"","defaultCountry":"","defaultProvince":"","defaultState":"","hideAddress2":"","hideCountry":"","hideState":"","inputs":[{"id":"8.1","label":"<span class=\"gfield_required\">*<\/span> %%RegisterAgeConfirmation%%","name":""}],"nameFormat":"","allowedExtensions":"","captchaType":"","pageNumber":1,"captchaTheme":"","simpleCaptchaSize":"","simpleCaptchaFontColor":"","simpleCaptchaBackgroundColor":"","failed_validation":"","productField":"","enablePasswordInput":"","maxLength":"","enablePrice":"","basePrice":"","choices":[{"text":"<span class=\"gfield_required\">*<\/span> %%RegisterAgeConfirmation%%","value":"Yes","isSelected":false,"price":""}],"multipleFiles":false,"maxFiles":"","calculationFormula":"","calculationRounding":"","enableCalculation":"","disableQuantity":false,"inputMask":false,"inputMaskValue":"","enableChoiceValue":true,"formId":4,"descriptionPlacement":"below","displayOnly":"","conditionalLogic":"","labelPlacement":"","subLabelPlacement":"","placeholder":""},{"type":"page","adminLabel":"","adminOnly":"","allowsPrepopulate":"","defaultValue":"","description":"","content":"","cssClass":"","errorMessage":"","id":9,"inputName":"","isRequired":false,"label":"","noDuplicates":"","size":"medium","postCustomFieldName":"","displayAllCategories":"","displayCaption":"","displayDescription":"","displayTitle":"","inputType":"","rangeMin":"","rangeMax":"","calendarIconType":"","calendarIconUrl":"","dateType":"","dateFormat":"","phoneFormat":"","addressType":"","defaultCountry":"","defaultProvince":"","defaultState":"","hideAddress2":"","hideCountry":"","hideState":"","inputs":null,"nameFormat":"","allowedExtensions":"","captchaType":"","pageNumber":2,"captchaTheme":"","simpleCaptchaSize":"","simpleCaptchaFontColor":"","simpleCaptchaBackgroundColor":"","failed_validation":"","productField":"","enablePasswordInput":"","maxLength":"","enablePrice":"","basePrice":"","displayOnly":true,"nextButton":{"type":"text","text":"Next","imageUrl":""},"previousButton":{"type":"text","text":"Previous","imageUrl":""},"formId":4,"descriptionPlacement":"below","choices":"","conditionalLogic":""},{"type":"html","adminLabel":"","adminOnly":"","allowsPrepopulate":false,"defaultValue":"","description":"","content":"<h1 class=\"entry-title\">%%RegisterConfirmationTitle%%<\/h1>","cssClass":"","errorMessage":"","id":12,"inputName":"","isRequired":false,"label":"Header","noDuplicates":"","size":"medium","postCustomFieldName":"","displayAllCategories":false,"displayCaption":"","displayDescription":"","displayTitle":"","inputType":"","rangeMin":"","rangeMax":"","calendarIconType":"","calendarIconUrl":"","dateType":"","dateFormat":"","phoneFormat":"","addressType":"","defaultCountry":"","defaultProvince":"","defaultState":"","hideAddress2":"","hideCountry":"","hideState":"","inputs":null,"nameFormat":"","allowedExtensions":"","captchaType":"","pageNumber":2,"captchaTheme":"","simpleCaptchaSize":"","simpleCaptchaFontColor":"","simpleCaptchaBackgroundColor":"","failed_validation":"","productField":"","enablePasswordInput":"","maxLength":"","enablePrice":"","basePrice":"","displayOnly":true,"multipleFiles":false,"maxFiles":"","calculationFormula":"","calculationRounding":"","enableCalculation":"","disableQuantity":false,"inputMask":false,"inputMaskValue":"","formId":4,"descriptionPlacement":"below","choices":"","conditionalLogic":"","labelPlacement":"","subLabelPlacement":"","placeholder":""},{"type":"html","adminLabel":"","adminOnly":"","allowsPrepopulate":false,"defaultValue":"","description":"","content":"<p class=\"registration-form-text\">%%RegisterConfirmationTextUnderTitle%%<\/p>","cssClass":"","errorMessage":"","id":13,"inputName":"","isRequired":false,"label":"Header","noDuplicates":"","size":"medium","postCustomFieldName":"","displayAllCategories":false,"displayCaption":"","displayDescription":"","displayTitle":"","inputType":"","rangeMin":"","rangeMax":"","calendarIconType":"","calendarIconUrl":"","dateType":"","dateFormat":"","phoneFormat":"","addressType":"","defaultCountry":"","defaultProvince":"","defaultState":"","hideAddress2":"","hideCountry":"","hideState":"","inputs":null,"nameFormat":"","allowedExtensions":"","captchaType":"","pageNumber":2,"captchaTheme":"","simpleCaptchaSize":"","simpleCaptchaFontColor":"","simpleCaptchaBackgroundColor":"","failed_validation":"","productField":"","enablePasswordInput":"","maxLength":"","enablePrice":"","basePrice":"","displayOnly":true,"multipleFiles":false,"maxFiles":"","calculationFormula":"","calculationRounding":"","enableCalculation":"","disableQuantity":false,"inputMask":false,"inputMaskValue":"","formId":4,"descriptionPlacement":"below","choices":"","conditionalLogic":"","labelPlacement":"","subLabelPlacement":"","placeholder":""},{"type":"html","adminLabel":"","adminOnly":"","allowsPrepopulate":false,"defaultValue":"","description":"","content":"<p><strong>%%RegisterConfirmationNickNameIs%%<\/strong><br \/><br \/><span class=\"red-data\">%%nickname%%<\/span><\/p>\n\n<p>%%RegisterConfirmationTextUnderNickname%%<\/p>\n\n<p><strong>%%RegisterConfirmationPasswordIs%%<\/strong><br \/><br \/><span class=\"red-data\">%%password%%<\/span><\/p>\n\n<p>%%RegisterConfirmationTextUnderPassword%%<\/p>","cssClass":"","errorMessage":"","id":17,"inputName":"","isRequired":false,"label":"HTML Block","noDuplicates":"","size":"medium","postCustomFieldName":"","displayAllCategories":false,"displayCaption":"","displayDescription":"","displayTitle":"","inputType":"","rangeMin":"","rangeMax":"","calendarIconType":"","calendarIconUrl":"","dateType":"","dateFormat":"","phoneFormat":"","addressType":"","defaultCountry":"","defaultProvince":"","defaultState":"","hideAddress2":"","hideCountry":"","hideState":"","inputs":null,"nameFormat":"","allowedExtensions":"","captchaType":"","pageNumber":2,"captchaTheme":"","simpleCaptchaSize":"","simpleCaptchaFontColor":"","simpleCaptchaBackgroundColor":"","failed_validation":"","productField":"","enablePasswordInput":"","maxLength":"","enablePrice":"","basePrice":"","displayOnly":true,"multipleFiles":false,"maxFiles":"","calculationFormula":"","calculationRounding":"","enableCalculation":"","disableQuantity":false,"inputMask":false,"inputMaskValue":"","formId":4,"descriptionPlacement":"below","choices":"","conditionalLogic":"","labelPlacement":"","subLabelPlacement":"","placeholder":""},{"type":"checkbox","adminLabel":"","adminOnly":"","allowsPrepopulate":false,"defaultValue":"","description":"","content":"","cssClass":"","errorMessage":"","id":15,"inputName":"","isRequired":true,"label":"","noDuplicates":"","size":"medium","postCustomFieldName":"","displayAllCategories":false,"displayCaption":"","displayDescription":"","displayTitle":"","inputType":"","rangeMin":"","rangeMax":"","calendarIconType":"","calendarIconUrl":"","dateType":"","dateFormat":"","phoneFormat":"","addressType":"","defaultCountry":"","defaultProvince":"","defaultState":"","hideAddress2":"","hideCountry":"","hideState":"","inputs":[{"id":"15.1","label":"<span class=\"gfield_required\">*<\/span> %%RegisterDataConfirmation%%","name":""}],"nameFormat":"","allowedExtensions":"","captchaType":"","pageNumber":2,"captchaTheme":"","simpleCaptchaSize":"","simpleCaptchaFontColor":"","simpleCaptchaBackgroundColor":"","failed_validation":"","productField":"","enablePasswordInput":"","maxLength":"","enablePrice":"","basePrice":"","choices":[{"text":"<span class=\"gfield_required\">*<\/span> %%RegisterDataConfirmation%%","value":"Yes","isSelected":false,"price":""}],"multipleFiles":false,"maxFiles":"","calculationFormula":"","calculationRounding":"","enableCalculation":"","disableQuantity":false,"inputMask":false,"inputMaskValue":"","enableChoiceValue":true,"formId":4,"descriptionPlacement":"below","displayOnly":"","conditionalLogic":"","labelPlacement":"","subLabelPlacement":"","placeholder":""},{"type":"page","adminLabel":"","adminOnly":"","allowsPrepopulate":"","defaultValue":"","description":"","content":"","cssClass":"","errorMessage":"","id":11,"inputName":"","isRequired":false,"label":"","noDuplicates":"","size":"medium","postCustomFieldName":"","displayAllCategories":"","displayCaption":"","displayDescription":"","displayTitle":"","inputType":"","rangeMin":"","rangeMax":"","calendarIconType":"","calendarIconUrl":"","dateType":"","dateFormat":"","phoneFormat":"","addressType":"","defaultCountry":"","defaultProvince":"","defaultState":"","hideAddress2":"","hideCountry":"","hideState":"","inputs":null,"nameFormat":"","allowedExtensions":"","captchaType":"","pageNumber":3,"captchaTheme":"","simpleCaptchaSize":"","simpleCaptchaFontColor":"","simpleCaptchaBackgroundColor":"","failed_validation":"","productField":"","enablePasswordInput":"","maxLength":"","enablePrice":"","basePrice":"","displayOnly":true,"nextButton":{"type":"text","text":"Next","imageUrl":""},"previousButton":{"type":"text","text":"Previous","imageUrl":""},"formId":4,"descriptionPlacement":"below","choices":"","conditionalLogic":""},{"type":"html","adminLabel":"","adminOnly":"","allowsPrepopulate":false,"defaultValue":"","description":"","content":"<h1 class=\"entry-title\">%%RegisterInvintationTitle%%<\/h1>","cssClass":"","errorMessage":"","id":18,"inputName":"","isRequired":false,"label":"HTML Block","noDuplicates":"","size":"medium","postCustomFieldName":"","displayAllCategories":false,"displayCaption":"","displayDescription":"","displayTitle":"","inputType":"","rangeMin":"","rangeMax":"","calendarIconType":"","calendarIconUrl":"","dateType":"","dateFormat":"","phoneFormat":"","addressType":"","defaultCountry":"","defaultProvince":"","defaultState":"","hideAddress2":"","hideCountry":"","hideState":"","inputs":null,"nameFormat":"","allowedExtensions":"","captchaType":"","pageNumber":3,"captchaTheme":"","simpleCaptchaSize":"","simpleCaptchaFontColor":"","simpleCaptchaBackgroundColor":"","failed_validation":"","productField":"","enablePasswordInput":"","maxLength":"","enablePrice":"","basePrice":"","displayOnly":true,"multipleFiles":false,"maxFiles":"","calculationFormula":"","calculationRounding":"","enableCalculation":"","disableQuantity":false,"inputMask":false,"inputMaskValue":"","formId":4,"descriptionPlacement":"below","choices":"","conditionalLogic":"","labelPlacement":"","subLabelPlacement":"","placeholder":""},{"type":"html","adminLabel":"","adminOnly":"","allowsPrepopulate":false,"defaultValue":"","description":"","content":"","cssClass":"","errorMessage":"","id":19,"inputName":"","isRequired":false,"label":"HTML Block","noDuplicates":"","size":"medium","postCustomFieldName":"","displayAllCategories":false,"displayCaption":"","displayDescription":"","displayTitle":"","inputType":"","rangeMin":"","rangeMax":"","calendarIconType":"","calendarIconUrl":"","dateType":"","dateFormat":"","phoneFormat":"","addressType":"","defaultCountry":"","defaultProvince":"","defaultState":"","hideAddress2":"","hideCountry":"","hideState":"","inputs":null,"nameFormat":"","allowedExtensions":"","captchaType":"","pageNumber":3,"captchaTheme":"","simpleCaptchaSize":"","simpleCaptchaFontColor":"","simpleCaptchaBackgroundColor":"","failed_validation":"","productField":"","enablePasswordInput":"","maxLength":"","enablePrice":"","basePrice":"","displayOnly":true,"multipleFiles":false,"maxFiles":"","calculationFormula":"","calculationRounding":"","enableCalculation":"","disableQuantity":false,"inputMask":false,"inputMaskValue":"","formId":4,"descriptionPlacement":"below","choices":"","conditionalLogic":"","labelPlacement":"","subLabelPlacement":"","placeholder":""},{"type":"text","adminLabel":"","adminOnly":"","allowsPrepopulate":false,"defaultValue":"","description":"","content":"","cssClass":"","errorMessage":"Please enter a valid invitation code. If you don\'t have one, just ask for it.","id":20,"inputName":"","isRequired":true,"label":"Invitation Code:","noDuplicates":"","size":"medium","postCustomFieldName":"","displayAllCategories":false,"displayCaption":"","displayDescription":"","displayTitle":"","inputType":"","rangeMin":"","rangeMax":"","calendarIconType":"","calendarIconUrl":"","dateType":"","dateFormat":"","phoneFormat":"","addressType":"","defaultCountry":"","defaultProvince":"","defaultState":"","hideAddress2":"","hideCountry":"","hideState":"","inputs":null,"nameFormat":"","allowedExtensions":"","captchaType":"","pageNumber":3,"captchaTheme":"","simpleCaptchaSize":"","simpleCaptchaFontColor":"","simpleCaptchaBackgroundColor":"","failed_validation":"","productField":"","enablePasswordInput":"","maxLength":"","enablePrice":"","basePrice":"","multipleFiles":false,"maxFiles":"","calculationFormula":"","calculationRounding":"","enableCalculation":"","disableQuantity":false,"inputMask":false,"inputMaskValue":"","formId":4,"descriptionPlacement":"below","displayOnly":"","labelPlacement":"","subLabelPlacement":"","placeholder":"","choices":"","conditionalLogic":""},{"type":"html","adminLabel":"","adminOnly":"","allowsPrepopulate":false,"defaultValue":"","description":"","content":"<h1 class=\"entry-title\">%%RegisterInvintationTitleUnder%%<\/h1>\n\n<p>%%RegisterInvintationTextUnder%%<\/p>","cssClass":"","errorMessage":"","id":21,"inputName":"","isRequired":false,"label":"HTML Block","noDuplicates":"","size":"medium","postCustomFieldName":"","displayAllCategories":false,"displayCaption":"","displayDescription":"","displayTitle":"","inputType":"","rangeMin":"","rangeMax":"","calendarIconType":"","calendarIconUrl":"","dateType":"","dateFormat":"","phoneFormat":"","addressType":"","defaultCountry":"","defaultProvince":"","defaultState":"","hideAddress2":"","hideCountry":"","hideState":"","inputs":null,"nameFormat":"","allowedExtensions":"","captchaType":"","pageNumber":3,"captchaTheme":"","simpleCaptchaSize":"","simpleCaptchaFontColor":"","simpleCaptchaBackgroundColor":"","failed_validation":"","productField":"","enablePasswordInput":"","maxLength":"","enablePrice":"","basePrice":"","displayOnly":true,"multipleFiles":false,"maxFiles":"","calculationFormula":"","calculationRounding":"","enableCalculation":"","disableQuantity":false,"inputMask":false,"inputMaskValue":"","formId":4,"descriptionPlacement":"below","choices":"","conditionalLogic":"","labelPlacement":"","subLabelPlacement":"","placeholder":""}],"id":4,"useCurrentUserAsAuthor":true,"postContentTemplateEnabled":false,"postTitleTemplateEnabled":false,"postTitleTemplate":"","postContentTemplate":"","lastPageButton":{"type":"text","text":"","imageUrl":""},"pagination":{"type":"steps","pages":["First step","Second step","Third step"],"backgroundColor":null,"color":null,"display_progressbar_on_confirmation":null,"progressbar_completion_text":null},"firstPageCssClass":"","cssClass":"","enableHoneypot":"1","enableAnimation":"1","limitEntries":"","limitEntriesCount":"","limitEntriesPeriod":"","limitEntriesMessage":"","scheduleForm":"","scheduleStart":"","scheduleStartHour":"","scheduleStartMinute":"","scheduleStartAmpm":"","scheduleEnd":"","scheduleEndHour":"","scheduleEndMinute":"","scheduleEndAmpm":"","schedulePendingMessage":"","scheduleMessage":"","requireLogin":"","requireLoginMessage":"","subLabelPlacement":"below","save":{"enabled":"","button":{"type":"link","text":"Save and Continue Later"}}}', true);
        $form_meta = json_encode($form_meta);
        $wpdb->query( $wpdb->prepare( "UPDATE `wp_rg_form_meta` SET `display_meta`=%s WHERE `form_id`=4", $form_meta) );
        //--
    }
}